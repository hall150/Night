/*! super-mario-world-js 2017-01-30 */
function preload(){game.load.image("sky","assets/maps/yoshis-island-1/background.png"),game.load.image("ground","assets/tutorial/platform.png"),game.load.image("star","assets/tutorial/star.png"),game.load.atlasJSONArray("mario","assets/sprites/spritesheets/mario.png","assets/sprites/spritesheets/mario.json"),game.load.atlasJSONArray("items","assets/items/items.png","assets/items/items.json"),game.load.atlasJSONArray("hud","assets/hud/hud.png","assets/hud/hud.json"),game.load.atlasJSONArray("groundTiles","assets/maps/tiles/ground.png","assets/maps/tiles/ground.json"),game.load.atlasJSONArray("background-objects","assets/backgrounds/background-objects.png","assets/backgrounds/background-objects.json"),game.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,game.scale.setUserScale(2,2),game.renderer.renderSession.roundPixels=!0,Phaser.Canvas.setImageRenderingCrisp(this.game.canvas),game.load.audio("Overworld Theme","assets/sound/music/2-53 Overworld Theme (SMW).mp3"),game.load.audio("Jump Wav","assets/sound/effects/jump.wav"),game.load.audio("Coin Wav","assets/sound/effects/coin.wav")}function create(){game.physics.startSystem(Phaser.Physics.ARCADE),game.add.sprite(0,-192,"sky"),platforms=game.add.group(),platforms.enableBody=!0;var a=platforms.create(0,game.world.height-31,"ground");a.scale.setTo(2,2),a.body.immovable=!0,groundTilesGroup=game.add.group();for(var b=0;b<SNES_WIDTH;b+=16)tile=groundTilesGroup.create(b,SNES_HEIGHT-32,"groundTiles"),tile.frame=84,tile=groundTilesGroup.create(b,SNES_HEIGHT-16,"groundTiles"),tile.frame=109;bush=game.add.sprite(64,SNES_HEIGHT-48,"background-objects"),bush.frame=73,ledge=game.add.sprite(176,SNES_HEIGHT-128,"background-objects"),ledge.frame=23,ledge=game.add.sprite(180,SNES_HEIGHT-76,"background-objects"),ledge.frame=28,music=game.add.audio("Overworld Theme"),music.play(),jumpWav=game.add.audio("Jump Wav"),coinWav=game.add.audio("Coin Wav"),player=game.add.sprite(24,game.world.height-32,"mario"),game.physics.arcade.enable(player),player.body.bounce.y=0,player.body.gravity.y=700,player.body.collideWorldBounds=!0,player.direction="right",player.anchor.setTo(.5,1),player.body.width=13,player.animations.add("walk",[15,14],8,!0),coins=game.add.group(),coins.enableBody=!0;for(var b=0;b<12;b++){var c=coins.create(30*b,game.world.height-40,"items");c.anchor.setTo(.5,.5),c.body.height=15,c.body.width=12,c.frame=4,c.animations.add("spin",[4,5,6,7],8,!0),c.animations.play("spin")}cursors=game.input.keyboard.createCursorKeys(),buttons={A:game.input.keyboard.addKey(Phaser.Keyboard.D),B:game.input.keyboard.addKey(Phaser.Keyboard.S),Mute:game.input.keyboard.addKey(Phaser.Keyboard.M)},coin1HUD=game.add.sprite(200,15,"hud"),coin1HUD.frame=3,coin2HUD=game.add.sprite(209,16,"hud"),coin2HUD.frame=5}function update(){var a=game.physics.arcade.collide(player,platforms);"right"===player.direction?player.scale.x=1:"left"===player.direction&&(player.scale.x=-1),!cursors.left.isDown||(cursors.up.isDown||cursors.down.isDown)&&player.body.touching.down&&a?!cursors.right.isDown||(cursors.up.isDown||cursors.down.isDown)&&player.body.touching.down&&a?(player.body.velocity.x=0,player.animations.stop(),player.frame=14):(player.body.velocity.x=75,player.direction="right",player.animations.play("walk")):(player.body.velocity.x=-75,player.direction="left",player.animations.play("walk")),cursors.up.isDown&&player.body.touching.down&&a&&(player.frame=9),cursors.down.isDown&&player.body.touching.down&&a&&(player.frame=49),buttons.B.isDown&&player.body.touching.down&&a&&(player.body.velocity.y=-310,jumpWav.play()),player.body.velocity.y<0?player.frame=1:player.body.velocity.y>0&&(player.frame=3),game.physics.arcade.collide(coins,platforms),game.physics.arcade.overlap(player,coins,collectCoin,null,this),buttons.Mute.isDown&&game.sound.mute?game.sound.mute=!0:buttons.Mute.isDown&&!game.sound.mute&&(game.sound.mute=!1)}function collectCoin(a,b){b.kill(),coinWav.play(),score+=10}var SNES_WIDTH=256,SNES_HEIGHT=224,game=new Phaser.Game(SNES_WIDTH,SNES_HEIGHT,Phaser.AUTO,"",{preload:preload,create:create,update:update},!1,!1,null),score=0,scoreText;